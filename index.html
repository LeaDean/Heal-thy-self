<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Heal-thy-self</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Megrim&family=Roboto:wght@300;400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="global.css">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="mobile-cards.css">
</head>
<body>

    <canvas id="starCanvas"></canvas>

    <nav class="navbar">
        <a href="index.html" class="title">Heal-thy-self</a>

        <!-- Desktop nav links -->
        <div class="links">
            <a href="About.html">About</a>
            <a href="community.html">Community</a>
            <a href="contact.html">Contact</a>
        </div>

        <!-- Mobile burger button -->
        <button class="burger" id="burgerBtn" aria-label="Open menu">
            <span></span>
            <span></span>
            <span></span>
        </button>
    </nav>

    <!-- Mobile dropdown menu -->
    <div class="mobile-menu" id="mobileMenu">
        <a href="About.html">About</a>
        <a href="community.html">Community</a>
        <a href="contact.html">Contact</a>
    </div>

    <main>
        <!-- ── Orbit section ─────────────────────────── -->
        <section class="orbit-section">
            <div class="container">
                <div class="ring"></div>
                <div class="center-text" id="centerText"></div>

                <div class="satellite" data-angle-offset="0"        data-href="energy.html">
                    <div class="satellite-content"><span class="satellite-text">Energy</span></div>
                </div>
                <div class="satellite" data-angle-offset="32.7272"  data-href="focus.html">
                    <div class="satellite-content"><span class="satellite-text">Focus</span></div>
                </div>
                <div class="satellite" data-angle-offset="65.4544"  data-href="purpose.html">
                    <div class="satellite-content"><span class="satellite-text">Purpose</span></div>
                </div>
                <div class="satellite" data-angle-offset="98.1816"  data-href="strength.html">
                    <div class="satellite-content"><span class="satellite-text">Strength</span></div>
                </div>
                <div class="satellite" data-angle-offset="130.9088" data-href="peace.html">
                    <div class="satellite-content"><span class="satellite-text">Peace</span></div>
                </div>
                <div class="satellite" data-angle-offset="163.6360" data-href="clarity.html">
                    <div class="satellite-content"><span class="satellite-text">Clarity</span></div>
                </div>
                <div class="satellite" data-angle-offset="196.3632" data-href="harmony.html">
                    <div class="satellite-content"><span class="satellite-text">Harmony</span></div>
                </div>
                <div class="satellite" data-angle-offset="229.0904" data-href="vitality.html">
                    <div class="satellite-content"><span class="satellite-text">Vitality</span></div>
                </div>
                <div class="satellite" data-angle-offset="261.8176" data-href="joy.html">
                    <div class="satellite-content"><span class="satellite-text">Joy</span></div>
                </div>
                <div class="satellite" data-angle-offset="294.5448" data-href="growth.html">
                    <div class="satellite-content"><span class="satellite-text">Growth</span></div>
                </div>
                <div class="satellite" data-angle-offset="327.2720" data-href="Challenges.html">
                    <div class="satellite-content"><span class="satellite-text">Challenges</span></div>
                </div>
            </div>
        </section>

    <!-- 
    REPLACE your existing <section class="tarot-deck"> block in index.html with this.
    The carousel JS below goes just before </body>
-->

<section class="tarot-deck">

    <!-- Welcome header -->
    <div class="tarot-welcome">
        <span class="welcome-label">Heal-thy-self</span>
        <h2>Choose Your Path</h2>
        <p>Each card opens a space for genuine self-inquiry. Swipe to explore the eleven territories of personal work.</p>
        <span class="tarot-invite">← Swipe to explore →</span>
    </div>

    <!-- Carousel -->
    <div class="tarot-carousel">
        <div class="tarot-track" id="tarotTrack">

            <a class="tarot-card card-energy active" href="energy.html">
                <span class="card-number">I</span>
                <div class="card-symbol-panel"><div class="card-symbol sym-energy"></div></div>
                <div class="card-text-panel">
                    <span class="card-name">Energy</span>
                    <span class="card-tagline">Boost Your Drive</span>
                    <span class="card-arrow">Enter →</span>
                </div>
            </a>

            <a class="tarot-card card-focus" href="focus.html">
                <span class="card-number">II</span>
                <div class="card-symbol-panel"><div class="card-symbol sym-focus"></div></div>
                <div class="card-text-panel">
                    <span class="card-name">Focus</span>
                    <span class="card-tagline">Sharpen Your Mind</span>
                    <span class="card-arrow">Enter →</span>
                </div>
            </a>

            <a class="tarot-card card-purpose" href="purpose.html">
                <span class="card-number">III</span>
                <div class="card-symbol-panel"><div class="card-symbol sym-purpose"></div></div>
                <div class="card-text-panel">
                    <span class="card-name">Purpose</span>
                    <span class="card-tagline">Find Your Direction</span>
                    <span class="card-arrow">Enter →</span>
                </div>
            </a>

            <a class="tarot-card card-strength" href="strength.html">
                <span class="card-number">IV</span>
                <div class="card-symbol-panel"><div class="card-symbol sym-strength"></div></div>
                <div class="card-text-panel">
                    <span class="card-name">Strength</span>
                    <span class="card-tagline">Build Resilience</span>
                    <span class="card-arrow">Enter →</span>
                </div>
            </a>

            <a class="tarot-card card-peace" href="peace.html">
                <span class="card-number">V</span>
                <div class="card-symbol-panel"><div class="card-symbol sym-peace"></div></div>
                <div class="card-text-panel">
                    <span class="card-name">Peace</span>
                    <span class="card-tagline">Inner Stillness</span>
                    <span class="card-arrow">Enter →</span>
                </div>
            </a>

            <a class="tarot-card card-clarity" href="clarity.html">
                <span class="card-number">VI</span>
                <div class="card-symbol-panel"><div class="card-symbol sym-clarity"></div></div>
                <div class="card-text-panel">
                    <span class="card-name">Clarity</span>
                    <span class="card-tagline">Removing Doubt</span>
                    <span class="card-arrow">Enter →</span>
                </div>
            </a>

            <a class="tarot-card card-harmony" href="harmony.html">
                <span class="card-number">VII</span>
                <div class="card-symbol-panel"><div class="card-symbol sym-harmony"></div></div>
                <div class="card-text-panel">
                    <span class="card-name">Harmony</span>
                    <span class="card-tagline">Live in Sync</span>
                    <span class="card-arrow">Enter →</span>
                </div>
            </a>

            <a class="tarot-card card-vitality" href="vitality.html">
                <span class="card-number">VIII</span>
                <div class="card-symbol-panel"><div class="card-symbol sym-vitality"></div></div>
                <div class="card-text-panel">
                    <span class="card-name">Vitality</span>
                    <span class="card-tagline">Thrive with Vigour</span>
                    <span class="card-arrow">Enter →</span>
                </div>
            </a>

            <a class="tarot-card card-joy" href="joy.html">
                <span class="card-number">IX</span>
                <div class="card-symbol-panel"><div class="card-symbol sym-joy"></div></div>
                <div class="card-text-panel">
                    <span class="card-name">Joy</span>
                    <span class="card-tagline">Spark Happiness</span>
                    <span class="card-arrow">Enter →</span>
                </div>
            </a>

            <a class="tarot-card card-growth" href="growth.html">
                <span class="card-number">X</span>
                <div class="card-symbol-panel"><div class="card-symbol sym-growth"></div></div>
                <div class="card-text-panel">
                    <span class="card-name">Growth</span>
                    <span class="card-tagline">Evolve Every Day</span>
                    <span class="card-arrow">Enter →</span>
                </div>
            </a>

            <a class="tarot-card card-challenges" href="Challenges.html">
                <span class="card-number">XI</span>
                <div class="card-symbol-panel"><div class="card-symbol sym-challenges"></div></div>
                <div class="card-text-panel">
                    <span class="card-name">Challenges</span>
                    <span class="card-tagline">Lessons from Conflict</span>
                    <span class="card-arrow">Enter →</span>
                </div>
            </a>

        </div>
    </div>

    <!-- Dot indicators -->
    <div class="tarot-dots" id="tarotDots"></div>

</section>

<!-- ── Carousel JS — add just before </body> ── -->
<script>
(function () {
    const track  = document.getElementById('tarotTrack');
    const dotsEl = document.getElementById('tarotDots');
    if (!track || !dotsEl) return;

    const cards = Array.from(track.querySelectorAll('.tarot-card'));
    const total = cards.length;
    let current = 0;
    let startX = 0;
    let isDragging = false;
    let prevented = false;

    // Build dots
    cards.forEach((_, i) => {
        const dot = document.createElement('div');
        dot.className = 'tarot-dot' + (i === 0 ? ' active' : '');
        dotsEl.appendChild(dot);
    });

    const dots = Array.from(dotsEl.querySelectorAll('.tarot-dot'));

    function getCardWidth() {
        return cards[0].offsetWidth + (cards[0].offsetLeft * 2);
    }

    function goTo(index, navigate) {
        if (index < 0 || index >= total) return;

        // Only navigate if tapping the already-active card
        if (navigate && index === current) {
            window.location.href = cards[index].getAttribute('href');
            return;
        }

        current = index;

        // Centre the active card
        const cardW   = cards[0].offsetWidth;
        const marginW = parseFloat(getComputedStyle(cards[0]).marginLeft) * 2;
        const step    = cardW + marginW;
        const offset  = (track.parentElement.offsetWidth / 2) - (cardW / 2) - (current * step);
        track.style.transform = `translateX(${offset}px)`;

        // Update classes
        cards.forEach((c, i) => c.classList.toggle('active', i === current));
        dots.forEach((d, i) => d.classList.toggle('active', i === current));
    }

    // Initialise position
    setTimeout(() => goTo(0, false), 50);

    // Touch handling
    track.addEventListener('touchstart', (e) => {
        startX    = e.touches[0].clientX;
        isDragging = true;
        prevented  = false;
    }, { passive: true });

    track.addEventListener('touchmove', (e) => {
        if (!isDragging) return;
        const dx = e.touches[0].clientX - startX;
        // If horizontal movement dominant, prevent vertical scroll
        if (!prevented && Math.abs(dx) > 8) {
            e.preventDefault();
            prevented = true;
        }
    }, { passive: false });

    track.addEventListener('touchend', (e) => {
        if (!isDragging) return;
        isDragging = false;
        const dx = e.changedTouches[0].clientX - startX;
        if (Math.abs(dx) < 8) {
            // Tap — navigate if on active card
            goTo(current, true);
        } else if (dx < -40) {
            goTo(current + 1, false);
        } else if (dx > 40) {
            goTo(current - 1, false);
        }
    });

    // Prevent link navigation on swipe
    cards.forEach((card, i) => {
        card.addEventListener('click', (e) => {
            if (i !== current) {
                e.preventDefault();
                goTo(i, false);
            }
        });
    });

    window.addEventListener('resize', () => goTo(current, false));
})();
</script>

        <!-- ── About taster — mobile only ───────────── -->
        <section class="mobile-taster" id="about-taster">
            <div class="taster-content">
                <p class="taster-label">About</p>
                <h2>You Are the Teacher</h2>
                <p>No one is coming to save you — and that is the most liberating thing you will ever understand. This site exists as a set of tools. What you do with them is entirely up to you.</p>
                <a href="About.html" class="glow-button">Read More</a>
            </div>
        </section>

        <!-- ── Community preview — mobile only ──────── -->
        <section class="mobile-taster" id="community-taster">
            <div class="taster-content">
                <p class="taster-label">Community</p>
                <h2>The Collective</h2>
                <p>Art, music, writing, poetry and projects from people genuinely doing the work. A living gallery of what self-inquiry looks like in practice.</p>
                <a href="community.html" class="glow-button">Explore</a>
            </div>
        </section>

        <!-- ── Contact inline — mobile only ─────────── -->
        <section class="mobile-taster mobile-contact" id="contact-taster">
            <div class="taster-content">
                <p class="taster-label">Get in Touch</p>
                <h2>Contact</h2>
                <p>Ready to begin? Reach out by email, phone, or book a free discovery call.</p>
                <div class="mobile-contact-links">
                    <a href="mailto:hello@heal-thy-self.co.uk">hello@heal-thy-self.co.uk</a>
                    <a href="tel:+447123456789">+44 7123 456 789</a>
                    <a href="https://calendly.com/yourname" target="_blank" rel="noopener">Book a free call →</a>
                </div>
                <a href="contact.html" class="glow-button">Full Contact Page</a>
            </div>
        </section>

        <!-- 
  
-->



    </main>

    <footer>&copy; 2025 Heal-thy-self. All rights reserved.</footer>

    <div class="mist-transition" id="mistOverlay"></div>

    <script src="script.js"></script>

</body>
</html>
